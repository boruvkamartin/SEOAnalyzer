---
layout: base.njk
title: Hlavn√≠ str√°nka
---

<div class="bg-white rounded-lg shadow-md p-6 mb-6">
  <h2 class="text-xl font-semibold mb-4">Analyzovat web</h2>
  <form id="analyzeForm" class="space-y-4">
    <div>
      <label for="url" class="block text-sm font-medium text-gray-700 mb-2">
        URL webu k anal√Ωze
      </label>
      <input 
        type="url" 
        id="url" 
        name="url" 
        required
        placeholder="https://www.example.com"
        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
      >
      <p class="mt-1 text-sm text-gray-500">Zadejte URL webu (nap≈ô. https://www.dmpagency.cz/)</p>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <div>
        <label for="timeout" class="block text-sm font-medium text-gray-700 mb-2">
          Timeout (s)
        </label>
        <input 
          type="number" 
          id="timeout" 
          name="timeout" 
          value="10"
          min="5"
          max="30"
          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
        >
      </div>
      
      <div>
        <label for="delay" class="block text-sm font-medium text-gray-700 mb-2">
          Delay (s)
        </label>
        <input 
          type="number" 
          id="delay" 
          name="delay" 
          value="0.5"
          min="0.1"
          max="2"
          step="0.1"
          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
        >
      </div>
      
      <div>
        <label for="limit" class="block text-sm font-medium text-gray-700 mb-2">
          Limit str√°nek (voliteln√©)
        </label>
        <input 
          type="number" 
          id="limit" 
          name="limit" 
          min="1"
          placeholder="V≈°echny"
          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
        >
      </div>
    </div>
    
    <div class="flex items-center">
      <input 
        type="checkbox" 
        id="skipLinks" 
        name="skipLinks"
        class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
      >
      <label for="skipLinks" class="ml-2 block text-sm text-gray-700">
        P≈ôeskoƒçit validaci broken links (rychlej≈°√≠ anal√Ωza)
      </label>
    </div>
    
    <button 
      type="submit" 
      class="btn-primary w-full md:w-auto"
      id="analyzeBtn"
    >
      Spustit anal√Ωzu
    </button>
  </form>
</div>

<!-- Loading indicator -->
<div id="loading" class="hidden bg-white rounded-lg shadow-md p-6 mb-6">
  <div class="flex items-center space-x-4">
    <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>
    <div class="flex-1">
      <p class="font-semibold text-gray-900" id="loadingText">Prob√≠h√° anal√Ωza...</p>
      <p class="text-sm text-gray-600" id="loadingSubtext">Inicializace...</p>
    </div>
    <button id="cancelBtn" class="btn-secondary text-sm hidden">Zru≈°it</button>
  </div>
  <div class="mt-4">
    <div class="w-full bg-gray-200 rounded-full h-2">
      <div id="progressBar" class="bg-blue-600 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
    </div>
    <p class="text-xs text-gray-500 mt-1 text-center" id="progressText">0%</p>
  </div>
</div>

<!-- Results -->
<div id="results" class="hidden">
  <!-- Dashboard/Statistics -->
  <div id="dashboard" class="bg-white rounded-lg shadow-md p-6 mb-6"></div>
  
  <!-- Summary -->
  <div id="summary" class="bg-white rounded-lg shadow-md p-6 mb-6"></div>
  
  <!-- Filters and sorting -->
  <div class="bg-white rounded-lg shadow-md p-6 mb-6">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Filtr podle statusu</label>
        <select id="statusFilter" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
          <option value="all">V≈°echny</option>
          <option value="error">Jen chyby</option>
          <option value="warning">Jen varov√°n√≠</option>
          <option value="ok">Jen OK</option>
        </select>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">≈òazen√≠</label>
        <select id="sortBy" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
          <option value="status">Podle statusu</option>
          <option value="url">Podle URL</option>
          <option value="issues">Podle poƒçtu probl√©m≈Ø</option>
          <option value="title">Podle title</option>
        </select>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Vyhled√°v√°n√≠</label>
        <input 
          type="text" 
          id="searchInput" 
          placeholder="Hledat v URL nebo title..."
          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
        >
      </div>
    </div>
    <div class="flex justify-between items-center">
      <p class="text-sm text-gray-600" id="resultsCount">Zobrazeno 0 v√Ωsledk≈Ø</p>
      <button id="exportBtn" class="btn-secondary">
        üì• Exportovat do Excelu
      </button>
    </div>
  </div>
  
  <!-- Results table -->
  <div class="bg-white rounded-lg shadow-md overflow-hidden">
    <div class="px-6 py-4 border-b border-gray-200">
      <h3 class="text-lg font-semibold text-gray-900">Str√°nky s probl√©my</h3>
      <p class="text-sm text-gray-600 mt-1">Zobrazuj√≠ se pouze str√°nky s chybami nebo varov√°n√≠mi. OK str√°nky jsou skryt√©.</p>
    </div>
    <div class="overflow-x-auto">
      <table id="resultsTable" class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
          <tr>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100" data-sort="status">
              Status <span class="sort-indicator"></span>
            </th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100" data-sort="url">
              URL <span class="sort-indicator"></span>
            </th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Title</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">H1</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Probl√©my</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Akce</th>
          </tr>
        </thead>
        <tbody id="resultsTableBody" class="bg-white divide-y divide-gray-200">
        </tbody>
      </table>
    </div>
  </div>
  
  <!-- Detail Modal -->
  <div id="detailModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
    <div class="bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
      <div class="sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center">
        <h3 class="text-xl font-semibold text-gray-900" id="modalTitle">Detail str√°nky</h3>
        <button id="closeModal" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
      </div>
      <div class="p-6" id="modalContent">
        <!-- Content will be inserted here -->
      </div>
    </div>
  </div>
    </div>
  </div>
</div>

